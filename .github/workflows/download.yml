name: Download CICMalAnal2017

on:
  workflow_dispatch:

permissions:
  contents: write

jobs:
  download-and-upload:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3

      - name: Download Ransomware APKs
        run: |
          curl -O -H "User-Agent: Mozilla/5.0" -H "Accept: text/html" -H "Accept-Language: en-US" http://cicresearch.ca/CICDataset/CICMalAnal2017/Dataset/APKs/Ransomware-APKs.zip
          echo "Download completed"
          ls -lh Ransomware-APKs.zip

      - name: Upload to Release
        uses: ncipollo/release-action@v1
        with:
          tag: cic-apks
          artifacts: "Ransomware-APKs.zip"
          allowUpdates: true
          token: ${{ secrets.GITHUB_TOKEN }}
